<!DOCTYPE html>
<html>
  <head>
    <style>
      html {
        background-color: lightslategray;
        padding: 20px;
      }

      #example {
        width: 300px;
        height: 200px;
        overflow: auto;
        border: 25px solid lightblue;
        padding: 20px;
        /* white-space: nowrap; */
      }
    </style>
  </head>
  <body>
    <!-- <div
      id="example"
      onscroll="handleScroll()"
    > -->
    <div id="example">
      <h3>Introduction</h3>
      <button
        type="button"
        onclick="showMessage(this)"
      >
        Show message
      </button>
      <p>
        This Ecma Standard is based on several originating technologies, the
        most well known being JavaScript (Netscape) and JScript (Microsoft). The
        language was invented by Brendan Eich at Netscape and first appeared in
        that company's Navigator 2.0 browser. It has appeared in all subsequent
        browsers from Netscape and in all browsers from Microsoft starting with
        Internet Explorer 3.0. The development of this Standard started in
        November 1996. The first edition of this Ecma Standard was adopted by
        the Ecma General Assembly of June 1997.
      </p>

      <button
        type="button"
        onclick="showMessage(this)"
      >
        Show message
      </button>

      <p>
        That Ecma Standard was submitted to ISO/IEC JTC 1 for adoption under the
        fast-track procedure, and approved as international standard ISO/IEC
        16262, in April 1998. The Ecma General Assembly of June 1998 approved
        the second edition of ECMA-262 to keep it fully aligned with ISO/IEC
        16262. Changes between the first and the second edition are editorial in
        nature.
      </p>

      <button
        type="button"
        onclick="showMessage(this)"
      >
        Show message
      </button>

      <p>
        The third edition of the Standard introduced powerful regular
        expressions, better string handling, new control statements, try/catch
        exception handling, tighter definition of errors, formatting for numeric
        output and minor changes in anticipation of forthcoming
        internationalisation facilities and future language growth. The third
        edition of the ECMAScript standard was adopted by the Ecma General
        Assembly of December 1999 and published as ISO/IEC 16262:2002 in June
        2002.
      </p>

      <button
        type="button"
        onclick="showMessage(this)"
      >
        Show message
      </button>
    </div>

    <h1>Document coordenates</h1>

    <p>
      The third edition of the Standard introduced powerful regular expressions,
      better string handling, new control statements, try/catch exception
      handling, tighter definition of errors, formatting for numeric output and
      minor changes in anticipation of forthcoming internationalisation
      facilities and future language growth. The third edition of the ECMAScript
      standard was adopted by the Ecma General Assembly of December 1999 and
      published as ISO/IEC 16262:2002 in June 2002.
    </p>

    <button
      type="button"
      onclick="showMessage(this)"
    >
      Show message
    </button>

    <p>
      The third edition of the Standard introduced powerful regular expressions,
      better string handling, new control statements, try/catch exception
      handling, tighter definition of errors, formatting for numeric output and
      minor changes in anticipation of forthcoming internationalisation
      facilities and future language growth. The third edition of the ECMAScript
      standard was adopted by the Ecma General Assembly of December 1999 and
      published as ISO/IEC 16262:2002 in June 2002.
    </p>

    <button
      type="button"
      onclick="showMessage(this)"
    >
      Show message
    </button>

    <p>
      The third edition of the Standard introduced powerful regular expressions,
      better string handling, new control statements, try/catch exception
      handling, tighter definition of errors, formatting for numeric output and
      minor changes in anticipation of forthcoming internationalisation
      facilities and future language growth. The third edition of the ECMAScript
      standard was adopted by the Ecma General Assembly of December 1999 and
      published as ISO/IEC 16262:2002 in June 2002.
    </p>

    <button
      type="button"
      onclick="showMessage(this)"
    >
      Show message
    </button>

    <p>
      The third edition of the Standard introduced powerful regular expressions,
      better string handling, new control statements, try/catch exception
      handling, tighter definition of errors, formatting for numeric output and
      minor changes in anticipation of forthcoming internationalisation
      facilities and future language growth. The third edition of the ECMAScript
      standard was adopted by the Ecma General Assembly of December 1999 and
      published as ISO/IEC 16262:2002 in June 2002.
    </p>

    <button
      type="button"
      onclick="showMessage(this)"
    >
      Show message
    </button>

    <p>
      The third edition of the Standard introduced powerful regular expressions,
      better string handling, new control statements, try/catch exception
      handling, tighter definition of errors, formatting for numeric output and
      minor changes in anticipation of forthcoming internationalisation
      facilities and future language growth. The third edition of the ECMAScript
      standard was adopted by the Ecma General Assembly of December 1999 and
      published as ISO/IEC 16262:2002 in June 2002.
    </p>

    <button
      type="button"
      onclick="showMessage(this)"
    >
      Show message
    </button>

    <p>
      The third edition of the Standard introduced powerful regular expressions,
      better string handling, new control statements, try/catch exception
      handling, tighter definition of errors, formatting for numeric output and
      minor changes in anticipation of forthcoming internationalisation
      facilities and future language growth. The third edition of the ECMAScript
      standard was adopted by the Ecma General Assembly of December 1999 and
      published as ISO/IEC 16262:2002 in June 2002.
    </p>

    <button
      type="button"
      onclick="showMessage(this)"
    >
      Show message
    </button>

    <p>
      The third edition of the Standard introduced powerful regular expressions,
      better string handling, new control statements, try/catch exception
      handling, tighter definition of errors, formatting for numeric output and
      minor changes in anticipation of forthcoming internationalisation
      facilities and future language growth. The third edition of the ECMAScript
      standard was adopted by the Ecma General Assembly of December 1999 and
      published as ISO/IEC 16262:2002 in June 2002.
    </p>

    <script>
      function getCoords(elem) {
        const box = elem.getBoundingClientRect();

        return {
          top: box.top + window.pageYOffset,
          left: box.left + window.pageXOffset,
          right: box.right + window.pageXOffset,
          bottom: box.bottom + window.pageYOffset,
        };
      }

      function showMessage(elem) {
        const message = createMessageUnder(elem, "Hello, world!");
        document.body.append(message);
        setTimeout(function () {
          message.remove();
        }, 5000);
      }

      function createMessageUnder(elem, html) {
        // create message element
        const message = document.createElement("div");
        // better to use a css class for the style here
        message.style.cssText = "position: absolute; color: red";
        // assign coordinates, don't forget "px"!
        const coords = getCoords(elem);

        message.style.left = coords.left + "px";
        message.style.top = coords.bottom + "px";

        message.innerHTML = html;

        return message;
      }
    </script>

    <script>
      // const centerX = document.documentElement.clientWidth / 2;
      // const centerY = document.documentElement.clientHeight / 2;
      // const elem = document.elementFromPoint(centerX, centerY);
      // const elems = document.elementsFromPoint(centerX, centerY);

      // console.log(elem);
      // console.log(elems);

      // console.log(document.elementFromPoint(-10, -10));
      // console.log(document.elementFromPoint(-10, centerY));
      // console.log(document.elementFromPoint(centerX, -10));
      // console.log(document.elementFromPoint(1e5, 1e5));

      // let position;

      // document.addEventListener("mousemove", function (e) {
      //   // console.log(e.clientX, e.clientY);
      //   position = { x: e.clientX, y: e.clientY };
      // });

      // document.addEventListener("click", function (e) {
      //   const elem = document.elementFromPoint(position.x, position.y);
      //   elem.style.backgroundColor = "pink";
      //   setTimeout(function () {
      //     elem.style.backgroundColor = "";
      //   }, 2000);
      // });

      // document.addEventListener("click", function (e) {
      //   const elem = document.elementFromPoint(e.clientX, e.clientY);
      //   if (elem) {
      //     elem.style.backgroundColor = "pink";
      //     setTimeout(function () {
      //       elem.style.backgroundColor = "";
      //     }, 2000);
      //   }
      // });

      // function createMessageUnder(elem, html) {
      //   // create message element
      //   const message = document.createElement("div");
      //   // better to use a css class for the style here
      //   message.style.cssText = "position: fixed; color: red";

      //   // assign coordinates, don't forget "px"!
      //   const coords = elem.getBoundingClientRect();
      //   message.style.left = coords.left + "px";
      //   message.style.top = coords.bottom + "px";

      //   message.innerHTML = html;

      //   return message;
      // }

      // function showMessage(elem) {
      //   const message = createMessageUnder(elem, "Hello, world!");
      //   document.body.append(message);
      //   setTimeout(function () {
      //     message.remove();
      //   }, 5000);
      // }
    </script>

    <!-- <script>
      const h3 = document.querySelector("h3");
      h3.style.backgroundColor = "lightcoral";

      function handleScroll() {
        const coords = h3.getBoundingClientRect();
        // console.log(coords.top, coords.y);
        // console.log(coords.bottom);
        // console.log(coords.left, coords.x);
        // console.log(coords.right);

        console.log(coords.height);
        console.log(coords.width);
      }
    </script> -->

    <!-- <script>
      const coords = document.querySelector("#example").getBoundingClientRect();

      console.log(coords.x, coords.left);
      console.log(coords.y, coords.top);
      console.log(coords.width);
      console.log(coords.height);
      console.log(coords.right, coords.x + coords.width);
      console.log(coords.bottom, coords.y + coords.height);
    </script> -->

    <!-- <script>
      const example = document.querySelector("#example");
      const coords = example.getBoundingClientRect();

      console.log(coords.width, example.offsetWidth);
      console.log(coords.height, example.offsetHeight);
      console.log(coords.x, coords.y);
      console.log(example.offsetLeft, example.offsetTop);
      console.log(coords.right, example.offsetWidth + example.offsetLeft);
      console.log(coords.bottom, example.offsetHeight + example.offsetTop);
    </script> -->
  </body>
</html>
