<!DOCTYPE html>
<html>
  <body>
    <ul>
      <li>
        Animals
        <ul>
          <li>Mammals</li>
          <li>Other</li>
        </ul>
      </li>
      <li>
        Fishes
        <ul>
          <li>Aquarium</li>
          <li>Sea</li>
        </ul>
      </li>
    </ul>
    <script>
      function func(li) {
        const title = li.firstChild.data.trim();
        console.log(title);
        const ul = li.querySelector("ul");
        if (ul) {
          for (const elem of ul.children) {
            func(elem);
          }
        }
      }

      for (const li of document.body.firstElementChild.children) {
        func(li);
      }
    </script>
  </body>
</html>
